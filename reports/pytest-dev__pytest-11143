[{"repo": "pytest-dev/pytest", "instance_id": "pytest-dev__pytest-11143", "base_commit": "6995257cf470d2143ad1683824962de4071c0eb7", "patch": "diff --git a/src/_pytest/assertion/rewrite.py b/src/_pytest/assertion/rewrite.py\n--- a/src/_pytest/assertion/rewrite.py\n+++ b/src/_pytest/assertion/rewrite.py\n@@ -676,6 +676,7 @@ def run(self, mod: ast.Module) -> None:\n                 expect_docstring\n                 and isinstance(item, ast.Expr)\n                 and isinstance(item.value, ast.Constant)\n+                and isinstance(item.value.value, str)\n             ):\n                 doc = item.value.value\n                 if self.is_rewrite_disabled(doc):\n", "test_patch": "diff --git a/testing/test_assertrewrite.py b/testing/test_assertrewrite.py\n--- a/testing/test_assertrewrite.py\n+++ b/testing/test_assertrewrite.py\n@@ -2042,3 +2042,17 @@ def test_max_increased_verbosity(self, pytester: Pytester) -> None:\n         self.create_test_file(pytester, DEFAULT_REPR_MAX_SIZE * 10)\n         result = pytester.runpytest(\"-vv\")\n         result.stdout.no_fnmatch_line(\"*xxx...xxx*\")\n+\n+\n+class TestIssue11140:\n+    def test_constant_not_picked_as_module_docstring(self, pytester: Pytester) -> None:\n+        pytester.makepyfile(\n+            \"\"\"\\\n+            0\n+\n+            def test_foo():\n+                pass\n+            \"\"\"\n+        )\n+        result = pytester.runpytest()\n+        assert result.ret == 0\n", "problem_statement": "Rewrite fails when first expression of file is a number and mistaken as docstring \n<!--\r\nThanks for submitting an issue!\r\n\r\nQuick check-list while reporting bugs:\r\n-->\r\n\r\n- [x] a detailed description of the bug or problem you are having\r\n- [x] output of `pip list` from the virtual environment you are using\r\n- [x] pytest and operating system versions\r\n- [x] minimal example if possible\r\n```\r\nInstalling collected packages: zipp, six, PyYAML, python-dateutil, MarkupSafe, importlib-metadata, watchdog, tomli, soupsieve, pyyaml-env-tag, pycparser, pluggy, packaging, mergedeep, Markdown, jinja2, iniconfig, ghp-import, exceptiongroup, click, websockets, urllib3, tqdm, smmap, pytest, pyee, mkdocs, lxml, importlib-resources, idna, cssselect, charset-normalizer, cffi, certifi, beautifulsoup4, attrs, appdirs, w3lib, typing-extensions, texttable, requests, pyzstd, pytest-metadata, pyquery, pyppmd, pyppeteer, pynacl, pymdown-extensions, pycryptodomex, pybcj, pyasn1, py, psutil, parse, multivolumefile, mkdocs-autorefs, inflate64, gitdb, fake-useragent, cryptography, comtypes, bs4, brotli, bcrypt, allure-python-commons, xlwt, xlrd, rsa, requests-html, pywinauto, python-i18n, python-dotenv, pytest-rerunfailures, pytest-html, pytest-check, PySocks, py7zr, paramiko, mkdocstrings, loguru, GitPython, ftputil, crcmod, chardet, brotlicffi, allure-pytest\r\nSuccessfully installed GitPython-3.1.31 Markdown-3.3.7 MarkupSafe-2.1.3 PySocks-1.7.1 PyYAML-6.0 allure-pytest-2.13.2 allure-python-commons-2.13.2 appdirs-1.4.4 attrs-23.1.0 bcrypt-4.0.1 beautifulsoup4-4.12.2 brotli-1.0.9 brotlicffi-1.0.9.2 bs4-0.0.1 certifi-2023.5.7 cffi-1.15.1 chardet-5.1.0 charset-normalizer-3.1.0 click-8.1.3 comtypes-1.2.0 crcmod-1.7 cryptography-41.0.1 cssselect-1.2.0 exceptiongroup-1.1.1 fake-useragent-1.1.3 ftputil-5.0.4 ghp-import-2.1.0 gitdb-4.0.10 idna-3.4 importlib-metadata-6.7.0 importlib-resources-5.12.0 inflate64-0.3.1 iniconfig-2.0.0 jinja2-3.1.2 loguru-0.7.0 lxml-4.9.2 mergedeep-1.3.4 mkdocs-1.4.3 mkdocs-autorefs-0.4.1 mkdocstrings-0.22.0 multivolumefile-0.2.3 packaging-23.1 paramiko-3.2.0 parse-1.19.1 pluggy-1.2.0 psutil-5.9.5 py-1.11.0 py7zr-0.20.5 pyasn1-0.5.0 pybcj-1.0.1 pycparser-2.21 pycryptodomex-3.18.0 pyee-8.2.2 pymdown-extensions-10.0.1 pynacl-1.5.0 pyppeteer-1.0.2 pyppmd-1.0.0 pyquery-2.0.0 pytest-7.4.0 pytest-check-2.1.5 pytest-html-3.2.0 pytest-metadata-3.0.0 pytest-rerunfailures-11.1.2 python-dateutil-2.8.2 python-dotenv-1.0.0 python-i18n-0.3.9 pywinauto-0.6.6 pyyaml-env-tag-0.1 pyzstd-0.15.9 requests-2.31.0 requests-html-0.10.0 rsa-4.9 six-1.16.0 smmap-5.0.0 soupsieve-2.4.1 texttable-1.6.7 tomli-2.0.1 tqdm-4.65.0 typing-extensions-4.6.3 urllib3-1.26.16 w3lib-2.1.1 watchdog-3.0.0 websockets-10.4 xlrd-2.0.1 xlwt-1.3.0 zipp-3.15.0\r\n```\r\nuse `pytest -k xxx`\uff0c report an error\uff1a`TypeError: argument of type 'int' is not iterable`\r\n\r\nit seems a error in collecting testcase\r\n```\r\n==================================== ERRORS ====================================\r\n_ ERROR collecting testcases/\u57fa\u7ebf/\u4ee3\u7406\u7b56\u7565/SOCKS\u4e8c\u7ea7\u4ee3\u7406\u8fed\u4ee3\u4e8c/\u5728\u7ebf\u7528\u6237/\u5728\u7ebf\u7528\u6237\u66f4\u65b0/\u4e0a\u7ebf\u7528\u6237/test_socks_user_011.py _\r\n/usr/local/lib/python3.8/site-packages/_pytest/runner.py:341: in from_call\r\n    result: Optional[TResult] = func()\r\n/usr/local/lib/python3.8/site-packages/_pytest/runner.py:372: in <lambda>\r\n    call = CallInfo.from_call(lambda: list(collector.collect()), \"collect\")\r\n/usr/local/lib/python3.8/site-packages/_pytest/python.py:531: in collect\r\n    self._inject_setup_module_fixture()\r\n/usr/local/lib/python3.8/site-packages/_pytest/python.py:545: in _inject_setup_module_fixture\r\n    self.obj, (\"setUpModule\", \"setup_module\")\r\n/usr/local/lib/python3.8/site-packages/_pytest/python.py:310: in obj\r\n    self._obj = obj = self._getobj()\r\n/usr/local/lib/python3.8/site-packages/_pytest/python.py:528: in _getobj\r\n    return self._importtestmodule()\r\n/usr/local/lib/python3.8/site-packages/_pytest/python.py:617: in _importtestmodule\r\n    mod = import_path(self.path, mode=importmode, root=self.config.rootpath)\r\n/usr/local/lib/python3.8/site-packages/_pytest/pathlib.py:565: in import_path\r\n    importlib.import_module(module_name)\r\n/usr/local/lib/python3.8/importlib/__init__.py:127: in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n<frozen importlib._bootstrap>:1014: in _gcd_import\r\n    ???\r\n<frozen importlib._bootstrap>:991: in _find_and_load\r\n    ???\r\n<frozen importlib._bootstrap>:975: in _find_and_load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap>:671: in _load_unlocked\r\n    ???\r\n/usr/local/lib/python3.8/site-packages/_pytest/assertion/rewrite.py:169: in exec_module\r\n    source_stat, co = _rewrite_test(fn, self.config)\r\n/usr/local/lib/python3.8/site-packages/_pytest/assertion/rewrite.py:352: in _rewrite_test\r\n    rewrite_asserts(tree, source, strfn, config)\r\n/usr/local/lib/python3.8/site-packages/_pytest/assertion/rewrite.py:413: in rewrite_asserts\r\n    AssertionRewriter(module_path, config, source).run(mod)\r\n/usr/local/lib/python3.8/site-packages/_pytest/assertion/rewrite.py:695: in run\r\n    if self.is_rewrite_disabled(doc):\r\n/usr/local/lib/python3.8/site-packages/_pytest/assertion/rewrite.py:760: in is_rewrite_disabled\r\n    return \"PYTEST_DONT_REWRITE\" in docstring\r\nE   TypeError: argument of type 'int' is not iterable\r\n```\n", "hints_text": "more details are needed - based on the exception, the docstring is a integer, that seems completely wrong\nI run it pass lasttime in 2023-6-20 17:07:23. it run in docker and install newest pytest before run testcase everytime . maybe some commit cause it recently. \r\nI run it can pass in 7.2.0 a few minutes ago.\r\n\r\n`pytest ini`\r\n```\r\n[pytest]\r\nlog_cli = false\r\nlog_cli_level = debug\r\nlog_cli_format = %(asctime)s %(levelname)s %(message)s\r\nlog_cli_date_format = %Y-%m-%d %H:%M:%S\r\n\r\naddopts = -v -s\r\n\r\nfilterwarnings =\r\n    ignore::UserWarning\r\n\r\nmarkers=\r\n    case_id: mark test id to upload on tp\r\n    case_level_bvt: testcase level bvt\r\n    case_level_1: testcase level level 1\r\n    case_level_2: testcase level level 2\r\n    case_level_3: testcase level level 3\r\n    case_status_pass: mark case as PASS\r\n    case_status_fail: mark case as FAILED\r\n    case_status_not_finish: mark case as CODEING\r\n    case_status_not_run: mark case as FINISH\r\n    case_not_run: mark case as DONT RUN\r\n    run_env: mark run this case on which environment\r\n ```\r\n    \r\n`testcase:`\r\n```\r\n@pytest.fixture(autouse=True)\r\ndef default_setup_teardown():\r\n    xxxx\r\n\r\n@allure.feature(\"\u521d\u59cb\u72b6\u6001\")\r\nclass TestDefauleName:\r\n    @allure.title(\"\u4e0a\u7ebf\u4e00\u4e2a\u57df\u7528\u6237\uff0c\u7528\u6237\u540d\u548c\u7ec4\u540d\u6b63\u786e\")\r\n    @pytest.mark.case_level_1\r\n    @pytest.mark.case_id(\"tc_proxyheard_insert_011\")\r\n    def test_tc_proxyheard_insert_011(self):\r\n        xxxx\r\n        ```\nthanks for the update\r\n\r\ni took the liberty to edit your comments to use markdown code blocks for ease of reading\r\n\r\nfrom the given information the problem is still unclear\r\n\r\nplease try running with `--assert=plain` for verification\r\n\r\nthe error indicates that the python ast parser somehow ends up with a integer as the docstring for `test_socks_user_011.py` the reason is still unclear based on the redacted information\nI run with --assert=plain and it has passed\r\n\r\npython3 -m pytest -k helloworld --assert=plain\r\n```\r\ntestcases/smoke_testcase/test_helloworld.py::TestGuardProcess::test_hello_world 2023-06-25 08:54:17.659 | INFO     | NAC_AIO.testcases.smoke_testcase.test_helloworld:test_hello_world:15 - Great! Frame Work is working\r\nPASSED\r\ntotal: 1648\r\npassed: 1\r\nfailed: 0\r\nerror: 0\r\npass_rate 100.00%\r\n\r\n================================================================================= 1 passed, 1647 deselected in 12.28s =================================================================================\r\n```\nIt seems to me that we have a potential bug in the ast transformer where's in case the first expression of a file is a integer, we mistake it as a docstring\n\nCan you verify the first expression in the file that fails?\nyou are right this file first expression is a 0 . It can pass after I delete it \r\nthank you!\nMinimal reproducer:\r\n\r\n```python\r\n0\r\n```\r\n\r\n(yes, just that, in a .py file)", "created_at": "2023-06-26T06:44:43Z", "version": "8.0", "FAIL_TO_PASS": "[\"testing/test_assertrewrite.py::TestIssue11140::test_constant_not_picked_as_module_docstring\"]", "PASS_TO_PASS": "[\"testing/test_assertrewrite.py::TestAssertionRewrite::test_place_initial_imports\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_location_is_set\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_name\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertrepr_compare_same_width\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite_if_hasattr_fails\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assert_already_has_message\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_boolop\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_short_circuit_evaluation\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_unary_op\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_binary_op\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_boolop_percent\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_call\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_attribute\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_comparisons\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_len\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_reprcompare\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assert_raising__bool__in_comparison\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_formatchar\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_repr\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_repr_non_ascii\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc_more_invalid\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[trivial]\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[assert\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[multiple\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[latin1\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[utf-8\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[multi-line\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[multi\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[backslash\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[assertion\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[escaped\", \"testing/test_assertrewrite.py::test_get_assertion_exprs[no\", \"testing/test_assertrewrite.py::test_try_makedirs\", \"testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[c:/tmp/pycs-d:/projects/src/foo.py-c:/tmp/pycs/projects/src]\", \"testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[None-d:/projects/src/foo.py-d:/projects/src/__pycache__]\", \"testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[/tmp/pycs-/home/projects/src/foo.py-/tmp/pycs/home/projects/src]\", \"testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[None-/home/projects/src/foo.py-/home/projects/src/__pycache__]\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[0-240]\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[1-2400]\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[2-None]\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[3-None]\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_rewrites_plugin_as_a_package\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_honors_pep_235\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_multiline\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_tuple\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_expr\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_escape\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_messages_bytes\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_at_operator_issue1290\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_starred_with_side_effect\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_pycache_is_a_file\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_pycache_is_readonly\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_zipfile\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_load_resource_via_files_with_rewrite\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_readonly\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_orphaned_pyc_file\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_package\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_translate_newlines\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_package_without__init__py\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_remember_rewritten_modules\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_sys_meta_path_munged\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_write_pyc\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc_success\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_reload_is_same_and_reloads\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_get_data_support\", \"testing/test_assertrewrite.py::test_issue731\", \"testing/test_assertrewrite.py::TestIssue925::test_simple_case\", \"testing/test_assertrewrite.py::TestIssue925::test_long_case\", \"testing/test_assertrewrite.py::TestIssue925::test_many_brackets\", \"testing/test_assertrewrite.py::TestIssue2121::test_rewrite_python_files_contain_subdirs\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_dont_rewrite\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_inline_walrus_operator\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_inline_walrus_operator_reverse\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_no_variable_name_conflict\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_true_assertion_and_changes_variable_value\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_fail_assertion\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_boolean_composite\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_compare_boolean_fails\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_boolean_none_fails\", \"testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_value_changes_cleared_after_each_test\", \"testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_in_operand\", \"testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_in_operand_json_dumps\", \"testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function\", \"testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function_keyword_arg\", \"testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function_arg_as_function\", \"testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_gt_operand_function\", \"testing/test_assertrewrite.py::test_source_mtime_long_long[-1]\", \"testing/test_assertrewrite.py::test_source_mtime_long_long[1]\", \"testing/test_assertrewrite.py::test_rewrite_infinite_recursion\", \"testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_basic\", \"testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_pattern_contains_subdirectories\", \"testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_cwd_changed\", \"testing/test_assertrewrite.py::TestAssertionPass::test_option_default\", \"testing/test_assertrewrite.py::TestAssertionPass::test_hook_call\", \"testing/test_assertrewrite.py::TestAssertionPass::test_hook_call_with_parens\", \"testing/test_assertrewrite.py::TestAssertionPass::test_hook_not_called_without_hookimpl\", \"testing/test_assertrewrite.py::TestAssertionPass::test_hook_not_called_without_cmd_option\", \"testing/test_assertrewrite.py::TestPyCacheDir::test_sys_pycache_prefix_integration\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_default_verbosity\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_increased_verbosity\", \"testing/test_assertrewrite.py::TestReprSizeVerbosity::test_max_increased_verbosity\", \"testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite_plugin\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_dont_write_bytecode\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_cached_pyc_includes_pytest_version\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_pyc_vs_pyo\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_module_imported_from_conftest\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning_using_pytest_plugins\", \"testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning_using_pytest_plugins_env_var\", \"testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_resources_provider_for_loader\"]", "environment_setup_commit": "10056865d2a4784934ce043908a0e78d0578f677"}, "On branch main\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n\tmodified:   src/_pytest/assertion/rewrite.py\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\ncommit 6995257cf470d2143ad1683824962de4071c0eb7\nAuthor: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>\nDate:   Tue Jul 4 07:00:14 2023 +0000\n\n    [pre-commit.ci] pre-commit autoupdate (#11165)\n    \n    updates:\n    - [github.com/asottile/pyupgrade: v3.7.0 \u2192 v3.8.0](https://github.com/asottile/pyupgrade/compare/v3.7.0...v3.8.0)\n    - [github.com/asottile/setup-cfg-fmt: v2.3.0 \u2192 v2.4.0](https://github.com/asottile/setup-cfg-fmt/compare/v2.3.0...v2.4.0)\n    \n    Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>\n\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 94ec67408..33816f0d0 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -42,12 +42,12 @@ repos:\n     -   id: reorder-python-imports\n         args: ['--application-directories=.:src', --py38-plus]\n -   repo: https://github.com/asottile/pyupgrade\n-    rev: v3.7.0\n+    rev: v3.8.0\n     hooks:\n     -   id: pyupgrade\n         args: [--py38-plus]\n -   repo: https://github.com/asottile/setup-cfg-fmt\n-    rev: v2.3.0\n+    rev: v2.4.0\n     hooks:\n     -   id: setup-cfg-fmt\n         args: [\"--max-py-version=3.12\", \"--include-version-classifiers\"]\ndiff --git a/src/_pytest/assertion/rewrite.py b/src/_pytest/assertion/rewrite.py\nindex 157903faf..9bf79f1e1 100644\n--- a/src/_pytest/assertion/rewrite.py\n+++ b/src/_pytest/assertion/rewrite.py\n@@ -676,6 +676,7 @@ class AssertionRewriter(ast.NodeVisitor):\n                 expect_docstring\n                 and isinstance(item, ast.Expr)\n                 and isinstance(item.value, ast.Constant)\n+                and isinstance(item.value.value, str)\n             ):\n                 doc = item.value.value\n                 if self.is_rewrite_disabled(doc):\nObtaining file:///testbed\n  Installing build dependencies: started\n  Installing build dependencies: finished with status 'done'\n  Checking if build backend supports build_editable: started\n  Checking if build backend supports build_editable: finished with status 'done'\n  Getting requirements to build editable: started\n  Getting requirements to build editable: finished with status 'done'\n  Preparing editable metadata (pyproject.toml): started\n  Preparing editable metadata (pyproject.toml): finished with status 'done'\nRequirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest==8.0.0.dev53+g6995257cf.d20220101) (2.0.0)\nRequirement already satisfied: packaging in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest==8.0.0.dev53+g6995257cf.d20220101) (23.1)\nRequirement already satisfied: pluggy<2.0,>=0.12 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest==8.0.0.dev53+g6995257cf.d20220101) (1.3.0)\nRequirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest==8.0.0.dev53+g6995257cf.d20220101) (1.1.3)\nRequirement already satisfied: tomli>=1.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest==8.0.0.dev53+g6995257cf.d20220101) (2.0.1)\nBuilding wheels for collected packages: pytest\n  Building editable for pytest (pyproject.toml): started\n  Building editable for pytest (pyproject.toml): finished with status 'done'\n  Created wheel for pytest: filename=pytest-8.0.0.dev53+g6995257cf.d20220101-0.editable-py3-none-any.whl size=5345 sha256=6d375d956b649db5469a5d79f103d6158d9acc1a7a7a83feb1343def6bb7a083\n  Stored in directory: /tmp/pip-ephem-wheel-cache-0qliwprt/wheels/7d/66/67/70d1ee2124ccf21d601c352e25cdca10f611f7c8b3f9ffb9e4\nSuccessfully built pytest\nInstalling collected packages: pytest\n  Attempting uninstall: pytest\n    Found existing installation: pytest 8.0.0.dev53+g6995257cf\n    Uninstalling pytest-8.0.0.dev53+g6995257cf:\n      Successfully uninstalled pytest-8.0.0.dev53+g6995257cf\nSuccessfully installed pytest-8.0.0.dev53+g6995257cf.d20220101\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /testbed\nconfigfile: pyproject.toml\ncollected 116 items\n\ntesting/test_assertrewrite.py .......................................... [ 36%]\n........................................................................ [ 98%]\n..                                                                       [100%]\n\n==================================== PASSES ====================================\n__________ TestAssertionRewriteHookDetails.test_read_pyc_more_invalid __________\n----------------------------- Captured stdout call -----------------------------\n_read_pyc(/tmp/pytest-of-root/pytest-0/test_read_pyc_more_invalid0/source.py): invalid pyc (too short)\n_read_pyc(/tmp/pytest-of-root/pytest-0/test_read_pyc_more_invalid0/source.py): invalid pyc (bad magic number)\n_read_pyc(/tmp/pytest-of-root/pytest-0/test_read_pyc_more_invalid0/source.py): invalid pyc (unsupported flags)\n_read_pyc(/tmp/pytest-of-root/pytest-0/test_read_pyc_more_invalid0/source.py): out of date\n_read_pyc(/tmp/pytest-of-root/pytest-0/test_read_pyc_more_invalid0/source.py): invalid pyc (incorrect size)\n____________ TestAssertionRewrite.test_rewrites_plugin_as_a_package ____________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_rewrites_plugin_as_a_package0\ncollected 1 item\n\ntest_rewrites_plugin_as_a_package.py F                                   [100%]\n\n=================================== FAILURES ===================================\n_____________________________________ test _____________________________________\n\nspecial_asserter = <function special_asserter.<locals>.special_assert at 0x7f596afc0e50>\n\n>   def test(special_asserter): special_asserter(1, 2)\n\ntest_rewrites_plugin_as_a_package.py:1: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nx = 1, y = 2\n\n    def special_assert(x, y):\n>       assert x == y\nE       assert 1 == 2\n\nplugin/__init__.py:5: AssertionError\n=========================== short test summary info ============================\nFAILED test_rewrites_plugin_as_a_package.py::test - assert 1 == 2\n============================== 1 failed in 0.01s ===============================\n___________________ TestAssertionRewrite.test_honors_pep_235 ___________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_honors_pep_2350\ncollected 1 item\n\ntest_honors_pep_235.py .                                                 [100%]\n\n============================== 1 passed in 0.01s ===============================\n_________________ TestAssertionRewrite.test_assertion_message __________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_message0\ncollected 1 item\n\ntest_assertion_message.py F                                              [100%]\n\n=================================== FAILURES ===================================\n___________________________________ test_foo ___________________________________\n\n    def test_foo():\n>       assert 1 == 2, \"The failure message\"\nE       AssertionError: The failure message\nE       assert 1 == 2\n\ntest_assertion_message.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_message.py::test_foo - AssertionError: The failure message\n============================== 1 failed in 0.01s ===============================\n____________ TestAssertionRewrite.test_assertion_message_multiline _____________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_message_multiline0\ncollected 1 item\n\ntest_assertion_message_multiline.py F                                    [100%]\n\n=================================== FAILURES ===================================\n___________________________________ test_foo ___________________________________\n\n    def test_foo():\n>       assert 1 == 2, \"A multiline\\nfailure message\"\nE       AssertionError: A multiline\nE         failure message\nE       assert 1 == 2\n\ntest_assertion_message_multiline.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_message_multiline.py::test_foo - AssertionError: A mult...\n============================== 1 failed in 0.01s ===============================\n______________ TestAssertionRewrite.test_assertion_message_tuple _______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_message_tuple0\ncollected 1 item\n\ntest_assertion_message_tuple.py F                                        [100%]\n\n=================================== FAILURES ===================================\n___________________________________ test_foo ___________________________________\n\n    def test_foo():\n>       assert 1 == 2, (1, 2)\nE       AssertionError: (1, 2)\nE       assert 1 == 2\n\ntest_assertion_message_tuple.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_message_tuple.py::test_foo - AssertionError: (1, 2)\n============================== 1 failed in 0.01s ===============================\n_______________ TestAssertionRewrite.test_assertion_message_expr _______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_message_expr0\ncollected 1 item\n\ntest_assertion_message_expr.py F                                         [100%]\n\n=================================== FAILURES ===================================\n___________________________________ test_foo ___________________________________\n\n    def test_foo():\n>       assert 1 == 2, 1 + 2\nE       AssertionError: 3\nE       assert 1 == 2\n\ntest_assertion_message_expr.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_message_expr.py::test_foo - AssertionError: 3\n============================== 1 failed in 0.01s ===============================\n______________ TestAssertionRewrite.test_assertion_message_escape ______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_message_escape0\ncollected 1 item\n\ntest_assertion_message_escape.py F                                       [100%]\n\n=================================== FAILURES ===================================\n___________________________________ test_foo ___________________________________\n\n    def test_foo():\n>       assert 1 == 2, 'To be escaped: %'\nE       AssertionError: To be escaped: %\nE       assert 1 == 2\n\ntest_assertion_message_escape.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_message_escape.py::test_foo - AssertionError: To be esc...\n============================== 1 failed in 0.01s ===============================\n______________ TestAssertionRewrite.test_assertion_messages_bytes ______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_messages_bytes0\ncollected 1 item\n\ntest_assertion_messages_bytes.py F                                       [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_bytes_assertion _____________________________\n\n    def test_bytes_assertion():\n>       assert False, b'ohai!'\nE       AssertionError: b'ohai!'\nE       assert False\n\ntest_assertion_messages_bytes.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_messages_bytes.py::test_bytes_assertion - AssertionErro...\n============================== 1 failed in 0.01s ===============================\n_______________ TestAssertionRewrite.test_at_operator_issue1290 ________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_at_operator_issue12900\ncollected 1 item\n\ntest_at_operator_issue1290.py .                                          [100%]\n\n============================== 1 passed in 0.00s ===============================\n______________ TestAssertionRewrite.test_starred_with_side_effect ______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_starred_with_side_effect0\ncollected 1 item\n\ntest_starred_with_side_effect.py .                                       [100%]\n\n============================== 1 passed in 0.01s ===============================\n__________________ TestRewriteOnImport.test_pycache_is_a_file __________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_pycache_is_a_file0\ncollected 1 item\n\ntest_pycache_is_a_file.py .                                              [100%]\n\n============================== 1 passed in 0.00s ===============================\n_________________ TestRewriteOnImport.test_pycache_is_readonly _________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_pycache_is_readonly0\ncollected 1 item\n\ntest_pycache_is_readonly.py .                                            [100%]\n\n============================== 1 passed in 0.00s ===============================\n_______________________ TestRewriteOnImport.test_zipfile _______________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_zipfile0\ncollected 0 items\n\n============================ no tests ran in 0.00s =============================\n________ TestRewriteOnImport.test_load_resource_via_files_with_rewrite _________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0 -- /opt/miniconda3/envs/testbed/bin/python\ncachedir: .pytest_cache\nrootdir: /tmp/pytest-of-root/pytest-0/test_load_resource_via_files_with_rewrite0\ncollecting ... collected 1 item\n\ntest_load.py::test_load PASSED                                           [100%]\n\n============================== 1 passed in 0.01s ===============================\n______________________ TestRewriteOnImport.test_readonly _______________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_readonly0\ncollected 1 item\n\ntesting/test_readonly.py .                                               [100%]\n\n============================== 1 passed in 0.00s ===============================\n__________________ TestRewriteOnImport.test_orphaned_pyc_file __________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_orphaned_pyc_file0\ncollected 1 item\n\ntest_orphaned_pyc_file.py .                                              [100%]\n\n============================== 1 passed in 0.00s ===============================\n_______________________ TestRewriteOnImport.test_package _______________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_package0\ncollected 1 item\n\npkg/test_blah.py .                                                       [100%]\n\n============================== 1 passed in 0.01s ===============================\n_________________ TestRewriteOnImport.test_translate_newlines __________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_translate_newlines0\ncollected 1 item\n\ntest_newlines.py .                                                       [100%]\n\n============================== 1 passed in 0.00s ===============================\n______________ TestRewriteOnImport.test_package_without__init__py ______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_package_without__init__py0\ncollected 0 items\n\n============================ no tests ran in 0.00s =============================\n__________ TestAssertionRewriteHookDetails.test_sys_meta_path_munged ___________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_sys_meta_path_munged0\ncollected 1 item\n\ntest_sys_meta_path_munged.py .                                           [100%]\n\n============================== 1 passed in 0.00s ===============================\n_______ TestAssertionRewriteHookDetails.test_reload_is_same_and_reloads ________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_reload_is_same_and_reloads0\nconfigfile: tox.ini\ncollected 1 item\n\ntest_fun.py .                                                            [100%]\n\n============================== 1 passed in 0.01s ===============================\n____________ TestAssertionRewriteHookDetails.test_get_data_support _____________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_get_data_support0\ncollected 1 item\n\nfoo/test_foo.py .                                                        [100%]\n\n============================== 1 passed in 0.01s ===============================\n________________________________ test_issue731 _________________________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_issue7310\ncollected 1 item\n\ntest_issue731.py F                                                       [100%]\n\n=================================== FAILURES ===================================\n________________________________ test_long_repr ________________________________\n\n    def test_long_repr():\n        obj = LongReprWithBraces()\n>       assert obj.some_method()\nE       assert False\nE        +  where False = <bound method LongReprWithBraces.some_method of LongReprWithBraces({aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa)>()\nE        +    where <bound method LongReprWithBraces.some_method of LongReprWithBraces({aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa)> = LongReprWithBraces({aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa}aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa).some_method\n\ntest_issue731.py:10: AssertionError\n=========================== short test summary info ============================\nFAILED test_issue731.py::test_long_repr - assert False\n============================== 1 failed in 0.01s ===============================\n________________________ TestIssue925.test_simple_case _________________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_simple_case0\ncollected 1 item\n\ntest_simple_case.py F                                                    [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_ternary_display _____________________________\n\n    def test_ternary_display():\n>       assert (False == False) == False\nE       assert (False == False) == False\n\ntest_simple_case.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_simple_case.py::test_ternary_display - assert (False == False) ==...\n============================== 1 failed in 0.01s ===============================\n_________________________ TestIssue925.test_long_case __________________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_long_case0\ncollected 1 item\n\ntest_long_case.py F                                                      [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_ternary_display _____________________________\n\n    def test_ternary_display():\n>        assert False == (False == True) == True\nE        assert (False == True) == True\n\ntest_long_case.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_long_case.py::test_ternary_display - assert (False == True) == True\n============================== 1 failed in 0.01s ===============================\n_______________________ TestIssue925.test_many_brackets ________________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_many_brackets0\ncollected 1 item\n\ntest_many_brackets.py F                                                  [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_ternary_display _____________________________\n\n    def test_ternary_display():\n>        assert True == ((False == True) == True)\nE        assert True == ((False == True) == True)\n\ntest_many_brackets.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED test_many_brackets.py::test_ternary_display - assert True == ((False =...\n============================== 1 failed in 0.01s ===============================\n___________ TestIssue2121.test_rewrite_python_files_contain_subdirs ____________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_rewrite_python_files_contain_subdirs0\nconfigfile: tox.ini\ncollected 1 item\n\ntests/file.py F                                                          [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_simple_failure ______________________________\n\n    def test_simple_failure():\n>       assert 1 + 1 == 3\nE       assert (1 + 1) == 3\n\ntests/file.py:2: AssertionError\n=========================== short test summary info ============================\nFAILED tests/file.py::test_simple_failure - assert (1 + 1) == 3\n============================== 1 failed in 0.01s ===============================\n________________ TestIssue10743.test_assertion_walrus_operator _________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator0\ncollected 1 item\n\ntest_assertion_walrus_operator.py .                                      [100%]\n\n============================== 1 passed in 0.00s ===============================\n__________ TestIssue10743.test_assertion_walrus_operator_dont_rewrite __________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_dont_rewrite0\ncollected 1 item\n\ntest_assertion_walrus_operator_dont_rewrite.py .                         [100%]\n\n============================== 1 passed in 0.00s ===============================\n_____________ TestIssue10743.test_assertion_inline_walrus_operator _____________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_inline_walrus_operator0\ncollected 1 item\n\ntest_assertion_inline_walrus_operator.py .                               [100%]\n\n============================== 1 passed in 0.00s ===============================\n_________ TestIssue10743.test_assertion_inline_walrus_operator_reverse _________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_inline_walrus_operator_reverse0\ncollected 1 item\n\ntest_assertion_inline_walrus_operator_reverse.py .                       [100%]\n\n============================== 1 passed in 0.00s ===============================\n________ TestIssue10743.test_assertion_walrus_no_variable_name_conflict ________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_no_variable_name_conflict0\ncollected 1 item\n\ntest_assertion_walrus_no_variable_name_conflict.py F                     [100%]\n\n=================================== FAILURES ===================================\n______________________ test_walrus_conversion_no_conflict ______________________\n\n    def test_walrus_conversion_no_conflict():\n        a = \"Hello\"\n>       assert a == (b := a.lower())\nE       AssertionError: assert 'Hello' == 'hello'\nE         - hello\nE         ? ^\nE         + Hello\nE         ? ^\n\ntest_assertion_walrus_no_variable_name_conflict.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_walrus_no_variable_name_conflict.py::test_walrus_conversion_no_conflict\n============================== 1 failed in 0.01s ===============================\n_ TestIssue10743.test_assertion_walrus_operator_true_assertion_and_changes_variable_value _\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_true_assertion_and_changes_variable_value0\ncollected 1 item\n\ntest_assertion_walrus_operator_true_assertion_and_changes_variable_value.py . [100%]\n\n============================== 1 passed in 0.00s ===============================\n_________ TestIssue10743.test_assertion_walrus_operator_fail_assertion _________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_fail_assertion0\ncollected 1 item\n\ntest_assertion_walrus_operator_fail_assertion.py F                       [100%]\n\n=================================== FAILURES ===================================\n_________________________ test_walrus_conversion_fails _________________________\n\n    def test_walrus_conversion_fails():\n        a = \"Hello\"\n>       assert a == (a := a.lower())\nE       AssertionError: assert 'Hello' == 'hello'\nE         - hello\nE         ? ^\nE         + Hello\nE         ? ^\n\ntest_assertion_walrus_operator_fail_assertion.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_walrus_operator_fail_assertion.py::test_walrus_conversion_fails\n============================== 1 failed in 0.01s ===============================\n_______ TestIssue10743.test_assertion_walrus_operator_boolean_composite ________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_boolean_composite0\ncollected 1 item\n\ntest_assertion_walrus_operator_boolean_composite.py .                    [100%]\n\n============================== 1 passed in 0.01s ===============================\n_____ TestIssue10743.test_assertion_walrus_operator_compare_boolean_fails ______\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_compare_boolean_fails0\ncollected 1 item\n\ntest_assertion_walrus_operator_compare_boolean_fails.py F                [100%]\n\n=================================== FAILURES ===================================\n__________________ test_walrus_operator_change_boolean_value ___________________\n\n    def test_walrus_operator_change_boolean_value():\n        a = True\n>       assert not (a and ((a := False) is False))\nE       assert not (True and False is False)\n\ntest_assertion_walrus_operator_compare_boolean_fails.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_walrus_operator_compare_boolean_fails.py::test_walrus_operator_change_boolean_value\n============================== 1 failed in 0.01s ===============================\n_______ TestIssue10743.test_assertion_walrus_operator_boolean_none_fails _______\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_boolean_none_fails0\ncollected 1 item\n\ntest_assertion_walrus_operator_boolean_none_fails.py F                   [100%]\n\n=================================== FAILURES ===================================\n__________________ test_walrus_operator_change_boolean_value ___________________\n\n    def test_walrus_operator_change_boolean_value():\n        a = True\n>       assert not (a and ((a := None) is None))\nE       assert not (True and None is None)\n\ntest_assertion_walrus_operator_boolean_none_fails.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_walrus_operator_boolean_none_fails.py::test_walrus_operator_change_boolean_value\n============================== 1 failed in 0.01s ===============================\n_ TestIssue10743.test_assertion_walrus_operator_value_changes_cleared_after_each_test _\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_value_changes_cleared_after_each_test0\ncollected 2 items\n\ntest_assertion_walrus_operator_value_changes_cleared_after_each_test.py . [ 50%]\n.                                                                        [100%]\n\n============================== 2 passed in 0.01s ===============================\n___________ TestIssue11028.test_assertion_walrus_operator_in_operand ___________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_in_operand0\ncollected 1 item\n\ntest_assertion_walrus_operator_in_operand.py .                           [100%]\n\n============================== 1 passed in 0.00s ===============================\n_____ TestIssue11028.test_assertion_walrus_operator_in_operand_json_dumps ______\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_in_operand_json_dumps0\ncollected 1 item\n\ntest_assertion_walrus_operator_in_operand_json_dumps.py .                [100%]\n\n============================== 1 passed in 0.00s ===============================\n____ TestIssue11028.test_assertion_walrus_operator_equals_operand_function _____\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_equals_operand_function0\ncollected 1 item\n\ntest_assertion_walrus_operator_equals_operand_function.py .              [100%]\n\n============================== 1 passed in 0.00s ===============================\n_ TestIssue11028.test_assertion_walrus_operator_equals_operand_function_keyword_arg _\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_equals_operand_function_keyword_arg0\ncollected 1 item\n\ntest_assertion_walrus_operator_equals_operand_function_keyword_arg.py .  [100%]\n\n============================== 1 passed in 0.00s ===============================\n_ TestIssue11028.test_assertion_walrus_operator_equals_operand_function_arg_as_function _\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_equals_operand_function_arg_as_function0\ncollected 1 item\n\ntest_assertion_walrus_operator_equals_operand_function_arg_as_function.py . [100%]\n\n============================== 1 passed in 0.00s ===============================\n______ TestIssue11028.test_assertion_walrus_operator_gt_operand_function _______\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_assertion_walrus_operator_gt_operand_function0\ncollected 1 item\n\ntest_assertion_walrus_operator_gt_operand_function.py F                  [100%]\n\n=================================== FAILURES ===================================\n___________________________________ test_gt ____________________________________\n\n    def test_gt():\n>     assert (obj := 4) > add_one(obj)\nE     assert 4 > 5\nE      +  where 5 = add_one(4)\n\ntest_assertion_walrus_operator_gt_operand_function.py:5: AssertionError\n=========================== short test summary info ============================\nFAILED test_assertion_walrus_operator_gt_operand_function.py::test_gt - asser...\n============================== 1 failed in 0.01s ===============================\n_______________________ test_source_mtime_long_long[-1] ________________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_source_mtime_long_long0\ncollected 1 item\n\ntest_source_mtime_long_long.py .                                         [100%]\n\n============================== 1 passed in 0.00s ===============================\n________________________ test_source_mtime_long_long[1] ________________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_source_mtime_long_long1\ncollected 1 item\n\ntest_source_mtime_long_long.py .                                         [100%]\n\n============================== 1 passed in 0.00s ===============================\n___________________ TestEarlyRewriteBailout.test_cwd_changed ___________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_cwd_changed0\ncollected 1 item\n\ntest_test.py .                                                           [100%]\n\n============================== 1 passed in 0.00s ===============================\n_______________________ TestAssertionPass.test_hook_call _______________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_hook_call0\nconfigfile: tox.ini\ncollected 2 items\n\ntest_hook_call.py FF                                                     [100%]\n\n=================================== FAILURES ===================================\n_________________________________ test_simple __________________________________\n\n    def test_simple():\n        a=1\n        b=2\n        c=3\n        d=0\n    \n>       assert a+b == c+d\n\ntest_hook_call.py:7: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/testbed/src/_pytest/assertion/rewrite.py:488: in _call_assertion_pass\n    util._assertion_pass(lineno, orig, expl)\n/testbed/src/_pytest/assertion/__init__.py:161: in call_assertion_pass_hook\n    ihook.pytest_assertion_pass(item=item, lineno=lineno, orig=orig, expl=expl)\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_hooks.py:493: in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_manager.py:115: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_manager.py:457: in traced_hookexec\n    return outcome.get_result()\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_manager.py:454: in <lambda>\n    lambda: oldcall(hook_name, hook_impls, caller_kwargs, firstresult)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nitem = <Function test_simple>, lineno = 7, orig = 'a+b == c+d'\nexpl = '(1 + 2) == (3 + 0)'\n\n    def pytest_assertion_pass(item, lineno, orig, expl):\n>       raise Exception(\"Assertion Passed: {} {} at line {}\".format(orig, expl, lineno))\nE       Exception: Assertion Passed: a+b == c+d (1 + 2) == (3 + 0) at line 7\n\nconftest.py:2: Exception\n__________________________________ test_fails __________________________________\n\n    def test_fails():\n>       assert False, \"assert with message\"\nE       assert with message\nE       assert False\n\ntest_hook_call.py:11: AssertionError\n=========================== short test summary info ============================\nFAILED test_hook_call.py::test_simple - Exception: Assertion Passed: a+b == c...\nFAILED test_hook_call.py::test_fails - assert with message\n============================== 2 failed in 0.04s ===============================\n_________________ TestAssertionPass.test_hook_call_with_parens _________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_hook_call_with_parens0\nconfigfile: tox.ini\ncollected 1 item\n\ntest_hook_call_with_parens.py F                                          [100%]\n\n=================================== FAILURES ===================================\n_____________________________________ test _____________________________________\n\n    def test():\n>       assert f()\n\ntest_hook_call_with_parens.py:3: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/testbed/src/_pytest/assertion/rewrite.py:488: in _call_assertion_pass\n    util._assertion_pass(lineno, orig, expl)\n/testbed/src/_pytest/assertion/__init__.py:161: in call_assertion_pass_hook\n    ihook.pytest_assertion_pass(item=item, lineno=lineno, orig=orig, expl=expl)\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_hooks.py:493: in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_manager.py:115: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_manager.py:457: in traced_hookexec\n    return outcome.get_result()\n/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pluggy/_manager.py:454: in <lambda>\n    lambda: oldcall(hook_name, hook_impls, caller_kwargs, firstresult)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nitem = <Function test>, lineno = 3, orig = 'f()', expl = '1\\n +  where 1 = f()'\n\n    def pytest_assertion_pass(item, lineno, orig, expl):\n>       raise Exception(\"Assertion Passed: {} {} at line {}\".format(orig, expl, lineno))\nE       Exception: Assertion Passed: f() 1\nE        +  where 1 = f() at line 3\n\nconftest.py:2: Exception\n=========================== short test summary info ============================\nFAILED test_hook_call_with_parens.py::test - Exception: Assertion Passed: f() 1\n============================== 1 failed in 0.06s ===============================\n___________ TestAssertionPass.test_hook_not_called_without_hookimpl ____________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_hook_not_called_without_hookimpl0\nconfigfile: tox.ini\ncollected 1 item\n\ntest_hook_not_called_without_hookimpl.py .                               [100%]\n\n============================== 1 passed in 0.01s ===============================\n__________ TestAssertionPass.test_hook_not_called_without_cmd_option ___________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_hook_not_called_without_cmd_option0\ncollected 1 item\n\ntest_hook_not_called_without_cmd_option.py .                             [100%]\n\n============================== 1 passed in 0.01s ===============================\n______________ TestPyCacheDir.test_sys_pycache_prefix_integration ______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_sys_pycache_prefix_integration0\ncollected 1 item\n\nsrc/test_foo.py .                                                        [100%]\n\n============================== 1 passed in 0.01s ===============================\n_________________ TestReprSizeVerbosity.test_default_verbosity _________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_default_verbosity0\ncollected 1 item\n\ntest_default_verbosity.py F                                              [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_very_long_string _____________________________\n\n    def test_very_long_string():\n        text = \"x\" * 240\n>       assert \"hello world\" in text\nE       AssertionError: assert 'hello world' in 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx...xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\n\ntest_default_verbosity.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_default_verbosity.py::test_very_long_string - AssertionError: ass...\n============================== 1 failed in 0.01s ===============================\n________________ TestReprSizeVerbosity.test_increased_verbosity ________________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0 -- /opt/miniconda3/envs/testbed/bin/python\ncachedir: .pytest_cache\nrootdir: /tmp/pytest-of-root/pytest-0/test_increased_verbosity0\ncollecting ... collected 1 item\n\ntest_increased_verbosity.py::test_very_long_string FAILED                [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_very_long_string _____________________________\n\n    def test_very_long_string():\n        text = \"x\" * 240\n>       assert \"hello world\" in text\nE       AssertionError: assert 'hello world' in 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\n\ntest_increased_verbosity.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_increased_verbosity.py::test_very_long_string - AssertionError: a...\n============================== 1 failed in 0.01s ===============================\n______________ TestReprSizeVerbosity.test_max_increased_verbosity ______________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0 -- /opt/miniconda3/envs/testbed/bin/python\ncachedir: .pytest_cache\nrootdir: /tmp/pytest-of-root/pytest-0/test_max_increased_verbosity0\ncollecting ... collected 1 item\n\ntest_max_increased_verbosity.py::test_very_long_string FAILED            [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_very_long_string _____________________________\n\n    def test_very_long_string():\n        text = \"x\" * 2400\n>       assert \"hello world\" in text\nE       AssertionError: assert 'hello world' in 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\n\ntest_max_increased_verbosity.py:3: AssertionError\n=========================== short test summary info ============================\nFAILED test_max_increased_verbosity.py::test_very_long_string - AssertionErro...\n============================== 1 failed in 0.01s ===============================\n_________ TestIssue11140.test_constant_not_picked_as_module_docstring __________\n----------------------------- Captured stdout call -----------------------------\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_constant_not_picked_as_module_docstring0\ncollected 1 item\n\ntest_constant_not_picked_as_module_docstring.py .                        [100%]\n\n============================== 1 passed in 0.00s ===============================\n________________ TestAssertionRewrite.test_dont_rewrite_plugin _________________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_dont_rewrite_plugin0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_dont_rewrite_plugin0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_dont_rewrite_plugin0\ncollected 1 item\n\ntest_foo.py .                                                            [100%]\n\n============================== 1 passed in 0.01s ===============================\n_________________ TestRewriteOnImport.test_dont_write_bytecode _________________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_dont_write_bytecode0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_dont_write_bytecode0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_dont_write_bytecode0\ncollected 1 item\n\ntest_dont_write_bytecode.py .                                            [100%]\n\n============================== 1 passed in 0.01s ===============================\n_________ TestRewriteOnImport.test_cached_pyc_includes_pytest_version __________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_cached_pyc_includes_pytest_version0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_cached_pyc_includes_pytest_version0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_cached_pyc_includes_pytest_version0\ncollected 1 item\n\ntest_foo.py .                                                            [100%]\n\n============================== 1 passed in 0.01s ===============================\n_____________________ TestRewriteOnImport.test_pyc_vs_pyo ______________________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0/runpytest-1 --basetemp=/tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0\ncollected 1 item\n\ntest_pyc_vs_pyo.py .                                                     [100%]\n\n=============================== warnings summary ===============================\n../../../../testbed/src/_pytest/config/__init__.py:1206\n  /testbed/src/_pytest/config/__init__.py:1206: PytestConfigWarning: assertions not in test modules or plugins will be ignored because assert statements are not executed by the underlying Python interpreter (are you using python -O?)\n  \n    self._warn_about_missing_assertion(mode)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n========================= 1 passed, 1 warning in 0.01s =========================\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0/runpytest-2 --basetemp=/tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_pyc_vs_pyo0\ncollected 1 item\n\ntest_pyc_vs_pyo.py F                                                     [100%]\n\n=================================== FAILURES ===================================\n________________________________ test_optimized ________________________________\n\n    def test_optimized():\n        \"hello\"\n>       assert test_optimized.__doc__ is None\nE       AssertionError: assert 'hello' is None\nE        +  where 'hello' = test_optimized.__doc__\n\ntest_pyc_vs_pyo.py:4: AssertionError\n=========================== short test summary info ============================\nFAILED test_pyc_vs_pyo.py::test_optimized - AssertionError: assert 'hello' is...\n============================== 1 failed in 0.02s ===============================\n___________________ TestRewriteOnImport.test_rewrite_warning ___________________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_rewrite_warning0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_rewrite_warning0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_rewrite_warning0\ncollected 0 items\n\n=============================== warnings summary ===============================\nconftest.py:2\n  /tmp/pytest-of-root/pytest-0/test_rewrite_warning0/conftest.py:2: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: _pytest\n    pytest.register_assert_rewrite(\"_pytest\")\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================== 1 warning in 0.00s ==============================\n________ TestRewriteOnImport.test_rewrite_module_imported_from_conftest ________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_rewrite_module_imported_from_conftest0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_rewrite_module_imported_from_conftest0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_rewrite_module_imported_from_conftest0\ncollected 1 item\n\ntest_rewrite_module_imported.py .                                        [100%]\n\n============================== 1 passed in 0.00s ===============================\n________ TestRewriteOnImport.test_rewrite_warning_using_pytest_plugins _________\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_rewrite_warning_using_pytest_plugins0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_rewrite_warning_using_pytest_plugins0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_rewrite_warning_using_pytest_plugins0\ncollected 1 item\n\ntest_rewrite_warning_pytest_plugins.py .                                 [100%]\n\n============================== 1 passed in 0.01s ===============================\n____ TestRewriteOnImport.test_rewrite_warning_using_pytest_plugins_env_var _____\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_rewrite_warning_using_pytest_plugins_env_var0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_rewrite_warning_using_pytest_plugins_env_var0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_rewrite_warning_using_pytest_plugins_env_var0\ncollected 1 item\n\ntest_rewrite_warning_using_pytest_plugins_env_var.py .                   [100%]\n\n============================== 1 passed in 0.01s ===============================\n______ TestAssertionRewriteHookDetails.test_resources_provider_for_loader ______\n----------------------------- Captured stdout call -----------------------------\nrunning: /opt/miniconda3/envs/testbed/bin/python -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_resources_provider_for_loader0/runpytest-0\n     in: /tmp/pytest-of-root/pytest-0/test_resources_provider_for_loader0\n============================= test session starts ==============================\nplatform linux -- Python 3.9.20, pytest-8.0.0.dev53+g6995257cf.d20220101, pluggy-1.3.0\nrootdir: /tmp/pytest-of-root/pytest-0/test_resources_provider_for_loader0\ncollected 1 item\n\ntestpkg/test_pkg.py .                                                    [100%]\n\n=============================== warnings summary ===============================\ntestpkg/test_pkg.py:1\n  /tmp/pytest-of-root/pytest-0/test_resources_provider_for_loader0/testpkg/test_pkg.py:1: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html\n    import pkg_resources\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n========================= 1 passed, 1 warning in 0.06s =========================\n=========================== short test summary info ============================\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_place_initial_imports\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_location_is_set\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_name\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertrepr_compare_same_width\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite_if_hasattr_fails\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assert_already_has_message\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_boolop\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_short_circuit_evaluation\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_unary_op\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_binary_op\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_boolop_percent\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_call\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_attribute\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_comparisons\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_len\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_reprcompare\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assert_raising__bool__in_comparison\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_formatchar\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_repr\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_repr_non_ascii\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc_more_invalid\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[trivial]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[assert statement not on own line]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[multiple assertions]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[latin1 encoded on first line\\n]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[utf-8 encoded on first line]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[multi-line assertion]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[multi line assert with list continuation]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[backslash continuation]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[assertion with message]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[assertion with message, test spanning multiple lines]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[escaped newlines plus message]\nPASSED testing/test_assertrewrite.py::test_get_assertion_exprs[no newline at end of file]\nPASSED testing/test_assertrewrite.py::test_try_makedirs\nPASSED testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[c:/tmp/pycs-d:/projects/src/foo.py-c:/tmp/pycs/projects/src]\nPASSED testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[None-d:/projects/src/foo.py-d:/projects/src/__pycache__]\nPASSED testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[/tmp/pycs-/home/projects/src/foo.py-/tmp/pycs/home/projects/src]\nPASSED testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[None-/home/projects/src/foo.py-/home/projects/src/__pycache__]\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[0-240]\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[1-2400]\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[2-None]\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[3-None]\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_rewrites_plugin_as_a_package\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_honors_pep_235\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_multiline\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_tuple\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_expr\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_escape\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_messages_bytes\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_at_operator_issue1290\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_starred_with_side_effect\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_pycache_is_a_file\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_pycache_is_readonly\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_zipfile\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_load_resource_via_files_with_rewrite\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_readonly\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_orphaned_pyc_file\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_package\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_translate_newlines\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_package_without__init__py\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_remember_rewritten_modules\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_sys_meta_path_munged\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_write_pyc\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc_success\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_reload_is_same_and_reloads\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_get_data_support\nPASSED testing/test_assertrewrite.py::test_issue731\nPASSED testing/test_assertrewrite.py::TestIssue925::test_simple_case\nPASSED testing/test_assertrewrite.py::TestIssue925::test_long_case\nPASSED testing/test_assertrewrite.py::TestIssue925::test_many_brackets\nPASSED testing/test_assertrewrite.py::TestIssue2121::test_rewrite_python_files_contain_subdirs\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_dont_rewrite\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_inline_walrus_operator\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_inline_walrus_operator_reverse\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_no_variable_name_conflict\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_true_assertion_and_changes_variable_value\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_fail_assertion\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_boolean_composite\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_compare_boolean_fails\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_boolean_none_fails\nPASSED testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_value_changes_cleared_after_each_test\nPASSED testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_in_operand\nPASSED testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_in_operand_json_dumps\nPASSED testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function\nPASSED testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function_keyword_arg\nPASSED testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function_arg_as_function\nPASSED testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_gt_operand_function\nPASSED testing/test_assertrewrite.py::test_source_mtime_long_long[-1]\nPASSED testing/test_assertrewrite.py::test_source_mtime_long_long[1]\nPASSED testing/test_assertrewrite.py::test_rewrite_infinite_recursion\nPASSED testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_basic\nPASSED testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_pattern_contains_subdirectories\nPASSED testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_cwd_changed\nPASSED testing/test_assertrewrite.py::TestAssertionPass::test_option_default\nPASSED testing/test_assertrewrite.py::TestAssertionPass::test_hook_call\nPASSED testing/test_assertrewrite.py::TestAssertionPass::test_hook_call_with_parens\nPASSED testing/test_assertrewrite.py::TestAssertionPass::test_hook_not_called_without_hookimpl\nPASSED testing/test_assertrewrite.py::TestAssertionPass::test_hook_not_called_without_cmd_option\nPASSED testing/test_assertrewrite.py::TestPyCacheDir::test_sys_pycache_prefix_integration\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_default_verbosity\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_increased_verbosity\nPASSED testing/test_assertrewrite.py::TestReprSizeVerbosity::test_max_increased_verbosity\nPASSED testing/test_assertrewrite.py::TestIssue11140::test_constant_not_picked_as_module_docstring\nPASSED testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite_plugin\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_dont_write_bytecode\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_cached_pyc_includes_pytest_version\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_pyc_vs_pyo\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_module_imported_from_conftest\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning_using_pytest_plugins\nPASSED testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning_using_pytest_plugins_env_var\nPASSED testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_resources_provider_for_loader\n============================= 116 passed in 4.33s ==============================\n", {"test_rewrites_plugin_as_a_package.py::test": "FAILED", "test_assertion_message.py::test_foo": "FAILED", "test_assertion_message_multiline.py::test_foo": "FAILED", "test_assertion_message_tuple.py::test_foo": "FAILED", "test_assertion_message_expr.py::test_foo": "FAILED", "test_assertion_message_escape.py::test_foo": "FAILED", "test_assertion_messages_bytes.py::test_bytes_assertion": "FAILED", "test_issue731.py::test_long_repr": "FAILED", "test_simple_case.py::test_ternary_display": "FAILED", "test_long_case.py::test_ternary_display": "FAILED", "test_many_brackets.py::test_ternary_display": "FAILED", "tests/file.py::test_simple_failure": "FAILED", "test_assertion_walrus_no_variable_name_conflict.py::test_walrus_conversion_no_conflict": "FAILED", "test_assertion_walrus_operator_fail_assertion.py::test_walrus_conversion_fails": "FAILED", "test_assertion_walrus_operator_compare_boolean_fails.py::test_walrus_operator_change_boolean_value": "FAILED", "test_assertion_walrus_operator_boolean_none_fails.py::test_walrus_operator_change_boolean_value": "FAILED", "test_assertion_walrus_operator_gt_operand_function.py::test_gt": "FAILED", "test_hook_call.py::test_simple": "FAILED", "test_hook_call.py::test_fails": "FAILED", "test_hook_call_with_parens.py::test": "FAILED", "test_default_verbosity.py::test_very_long_string": "FAILED", "test_increased_verbosity.py::test_very_long_string": "FAILED", "test_max_increased_verbosity.py::test_very_long_string": "FAILED", "test_pyc_vs_pyo.py::test_optimized": "FAILED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_place_initial_imports": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_location_is_set": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_name": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertrepr_compare_same_width": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite_if_hasattr_fails": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assert_already_has_message": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_boolop": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_short_circuit_evaluation": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_unary_op": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_binary_op": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_boolop_percent": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_call": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_attribute": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_comparisons": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_len": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_reprcompare": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assert_raising__bool__in_comparison": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_formatchar": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_repr": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_custom_repr_non_ascii": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc_more_invalid": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[trivial]": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[assert": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[multiple": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[latin1": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[utf-8": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[multi-line": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[multi": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[backslash": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[assertion": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[escaped": "PASSED", "testing/test_assertrewrite.py::test_get_assertion_exprs[no": "PASSED", "testing/test_assertrewrite.py::test_try_makedirs": "PASSED", "testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[c:/tmp/pycs-d:/projects/src/foo.py-c:/tmp/pycs/projects/src]": "PASSED", "testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[None-d:/projects/src/foo.py-d:/projects/src/__pycache__]": "PASSED", "testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[/tmp/pycs-/home/projects/src/foo.py-/tmp/pycs/home/projects/src]": "PASSED", "testing/test_assertrewrite.py::TestPyCacheDir::test_get_cache_dir[None-/home/projects/src/foo.py-/home/projects/src/__pycache__]": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[0-240]": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[1-2400]": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[2-None]": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_get_maxsize_for_saferepr[3-None]": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_rewrites_plugin_as_a_package": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_honors_pep_235": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_multiline": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_tuple": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_expr": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_message_escape": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_assertion_messages_bytes": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_at_operator_issue1290": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_starred_with_side_effect": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_pycache_is_a_file": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_pycache_is_readonly": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_zipfile": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_load_resource_via_files_with_rewrite": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_readonly": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_orphaned_pyc_file": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_package": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_translate_newlines": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_package_without__init__py": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_remember_rewritten_modules": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_sys_meta_path_munged": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_write_pyc": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_read_pyc_success": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_reload_is_same_and_reloads": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_get_data_support": "PASSED", "testing/test_assertrewrite.py::test_issue731": "PASSED", "testing/test_assertrewrite.py::TestIssue925::test_simple_case": "PASSED", "testing/test_assertrewrite.py::TestIssue925::test_long_case": "PASSED", "testing/test_assertrewrite.py::TestIssue925::test_many_brackets": "PASSED", "testing/test_assertrewrite.py::TestIssue2121::test_rewrite_python_files_contain_subdirs": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_dont_rewrite": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_inline_walrus_operator": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_inline_walrus_operator_reverse": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_no_variable_name_conflict": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_true_assertion_and_changes_variable_value": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_fail_assertion": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_boolean_composite": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_compare_boolean_fails": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_boolean_none_fails": "PASSED", "testing/test_assertrewrite.py::TestIssue10743::test_assertion_walrus_operator_value_changes_cleared_after_each_test": "PASSED", "testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_in_operand": "PASSED", "testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_in_operand_json_dumps": "PASSED", "testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function": "PASSED", "testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function_keyword_arg": "PASSED", "testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_equals_operand_function_arg_as_function": "PASSED", "testing/test_assertrewrite.py::TestIssue11028::test_assertion_walrus_operator_gt_operand_function": "PASSED", "testing/test_assertrewrite.py::test_source_mtime_long_long[-1]": "PASSED", "testing/test_assertrewrite.py::test_source_mtime_long_long[1]": "PASSED", "testing/test_assertrewrite.py::test_rewrite_infinite_recursion": "PASSED", "testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_basic": "PASSED", "testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_pattern_contains_subdirectories": "PASSED", "testing/test_assertrewrite.py::TestEarlyRewriteBailout::test_cwd_changed": "PASSED", "testing/test_assertrewrite.py::TestAssertionPass::test_option_default": "PASSED", "testing/test_assertrewrite.py::TestAssertionPass::test_hook_call": "PASSED", "testing/test_assertrewrite.py::TestAssertionPass::test_hook_call_with_parens": "PASSED", "testing/test_assertrewrite.py::TestAssertionPass::test_hook_not_called_without_hookimpl": "PASSED", "testing/test_assertrewrite.py::TestAssertionPass::test_hook_not_called_without_cmd_option": "PASSED", "testing/test_assertrewrite.py::TestPyCacheDir::test_sys_pycache_prefix_integration": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_default_verbosity": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_increased_verbosity": "PASSED", "testing/test_assertrewrite.py::TestReprSizeVerbosity::test_max_increased_verbosity": "PASSED", "testing/test_assertrewrite.py::TestIssue11140::test_constant_not_picked_as_module_docstring": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewrite::test_dont_rewrite_plugin": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_dont_write_bytecode": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_cached_pyc_includes_pytest_version": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_pyc_vs_pyo": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_module_imported_from_conftest": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning_using_pytest_plugins": "PASSED", "testing/test_assertrewrite.py::TestRewriteOnImport::test_rewrite_warning_using_pytest_plugins_env_var": "PASSED", "testing/test_assertrewrite.py::TestAssertionRewriteHookDetails::test_resources_provider_for_loader": "PASSED"}]