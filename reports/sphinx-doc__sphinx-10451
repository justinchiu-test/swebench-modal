[{"repo": "sphinx-doc/sphinx", "instance_id": "sphinx-doc__sphinx-10451", "base_commit": "195e911f1dab04b8ddeacbe04b7d214aaf81bb0b", "patch": "diff --git a/sphinx/ext/autodoc/typehints.py b/sphinx/ext/autodoc/typehints.py\n--- a/sphinx/ext/autodoc/typehints.py\n+++ b/sphinx/ext/autodoc/typehints.py\n@@ -115,7 +115,15 @@ def modify_field_list(node: nodes.field_list, annotations: Dict[str, str],\n         if name == 'return':\n             continue\n \n-        arg = arguments.get(name, {})\n+        if '*' + name in arguments:\n+            name = '*' + name\n+            arguments.get(name)\n+        elif '**' + name in arguments:\n+            name = '**' + name\n+            arguments.get(name)\n+        else:\n+            arg = arguments.get(name, {})\n+\n         if not arg.get('type'):\n             field = nodes.field()\n             field += nodes.field_name('', 'type ' + name)\n@@ -167,13 +175,19 @@ def augment_descriptions_with_types(\n             has_type.add('return')\n \n     # Add 'type' for parameters with a description but no declared type.\n-    for name in annotations:\n+    for name, annotation in annotations.items():\n         if name in ('return', 'returns'):\n             continue\n+\n+        if '*' + name in has_description:\n+            name = '*' + name\n+        elif '**' + name in has_description:\n+            name = '**' + name\n+\n         if name in has_description and name not in has_type:\n             field = nodes.field()\n             field += nodes.field_name('', 'type ' + name)\n-            field += nodes.field_body('', nodes.paragraph('', annotations[name]))\n+            field += nodes.field_body('', nodes.paragraph('', annotation))\n             node += field\n \n     # Add 'rtype' if 'return' is present and 'rtype' isn't.\n", "test_patch": "diff --git a/tests/roots/test-ext-autodoc/target/typehints.py b/tests/roots/test-ext-autodoc/target/typehints.py\n--- a/tests/roots/test-ext-autodoc/target/typehints.py\n+++ b/tests/roots/test-ext-autodoc/target/typehints.py\n@@ -94,8 +94,10 @@ def missing_attr(c,\n class _ClassWithDocumentedInit:\n     \"\"\"Class docstring.\"\"\"\n \n-    def __init__(self, x: int) -> None:\n+    def __init__(self, x: int, *args: int, **kwargs: int) -> None:\n         \"\"\"Init docstring.\n \n         :param x: Some integer\n+        :param args: Some integer\n+        :param kwargs: Some integer\n         \"\"\"\ndiff --git a/tests/roots/test-ext-napoleon/conf.py b/tests/roots/test-ext-napoleon/conf.py\nnew file mode 100644\n--- /dev/null\n+++ b/tests/roots/test-ext-napoleon/conf.py\n@@ -0,0 +1,5 @@\n+import os\n+import sys\n+\n+sys.path.insert(0, os.path.abspath('.'))\n+extensions = ['sphinx.ext.napoleon']\ndiff --git a/tests/roots/test-ext-napoleon/index.rst b/tests/roots/test-ext-napoleon/index.rst\nnew file mode 100644\n--- /dev/null\n+++ b/tests/roots/test-ext-napoleon/index.rst\n@@ -0,0 +1,6 @@\n+test-ext-napoleon\n+=================\n+\n+.. toctree::\n+\n+   typehints\ndiff --git a/tests/roots/test-ext-napoleon/mypackage/__init__.py b/tests/roots/test-ext-napoleon/mypackage/__init__.py\nnew file mode 100644\ndiff --git a/tests/roots/test-ext-napoleon/mypackage/typehints.py b/tests/roots/test-ext-napoleon/mypackage/typehints.py\nnew file mode 100644\n--- /dev/null\n+++ b/tests/roots/test-ext-napoleon/mypackage/typehints.py\n@@ -0,0 +1,11 @@\n+def hello(x: int, *args: int, **kwargs: int) -> None:\n+    \"\"\"\n+    Parameters\n+    ----------\n+    x\n+        X\n+    *args\n+        Additional arguments.\n+    **kwargs\n+        Extra arguments.\n+    \"\"\"\ndiff --git a/tests/roots/test-ext-napoleon/typehints.rst b/tests/roots/test-ext-napoleon/typehints.rst\nnew file mode 100644\n--- /dev/null\n+++ b/tests/roots/test-ext-napoleon/typehints.rst\n@@ -0,0 +1,5 @@\n+typehints\n+=========\n+\n+.. automodule:: mypackage.typehints\n+   :members:\ndiff --git a/tests/test_ext_autodoc_configs.py b/tests/test_ext_autodoc_configs.py\n--- a/tests/test_ext_autodoc_configs.py\n+++ b/tests/test_ext_autodoc_configs.py\n@@ -1034,19 +1034,27 @@ def test_autodoc_typehints_description_with_documented_init(app):\n     )\n     app.build()\n     context = (app.outdir / 'index.txt').read_text(encoding='utf8')\n-    assert ('class target.typehints._ClassWithDocumentedInit(x)\\n'\n+    assert ('class target.typehints._ClassWithDocumentedInit(x, *args, **kwargs)\\n'\n             '\\n'\n             '   Class docstring.\\n'\n             '\\n'\n             '   Parameters:\\n'\n-            '      **x** (*int*) --\\n'\n+            '      * **x** (*int*) --\\n'\n             '\\n'\n-            '   __init__(x)\\n'\n+            '      * **args** (*int*) --\\n'\n+            '\\n'\n+            '      * **kwargs** (*int*) --\\n'\n+            '\\n'\n+            '   __init__(x, *args, **kwargs)\\n'\n             '\\n'\n             '      Init docstring.\\n'\n             '\\n'\n             '      Parameters:\\n'\n-            '         **x** (*int*) -- Some integer\\n'\n+            '         * **x** (*int*) -- Some integer\\n'\n+            '\\n'\n+            '         * **args** (*int*) -- Some integer\\n'\n+            '\\n'\n+            '         * **kwargs** (*int*) -- Some integer\\n'\n             '\\n'\n             '      Return type:\\n'\n             '         None\\n' == context)\n@@ -1063,16 +1071,20 @@ def test_autodoc_typehints_description_with_documented_init_no_undoc(app):\n     )\n     app.build()\n     context = (app.outdir / 'index.txt').read_text(encoding='utf8')\n-    assert ('class target.typehints._ClassWithDocumentedInit(x)\\n'\n+    assert ('class target.typehints._ClassWithDocumentedInit(x, *args, **kwargs)\\n'\n             '\\n'\n             '   Class docstring.\\n'\n             '\\n'\n-            '   __init__(x)\\n'\n+            '   __init__(x, *args, **kwargs)\\n'\n             '\\n'\n             '      Init docstring.\\n'\n             '\\n'\n             '      Parameters:\\n'\n-            '         **x** (*int*) -- Some integer\\n' == context)\n+            '         * **x** (*int*) -- Some integer\\n'\n+            '\\n'\n+            '         * **args** (*int*) -- Some integer\\n'\n+            '\\n'\n+            '         * **kwargs** (*int*) -- Some integer\\n' == context)\n \n \n @pytest.mark.sphinx('text', testroot='ext-autodoc',\n@@ -1089,16 +1101,20 @@ def test_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype(a\n     )\n     app.build()\n     context = (app.outdir / 'index.txt').read_text(encoding='utf8')\n-    assert ('class target.typehints._ClassWithDocumentedInit(x)\\n'\n+    assert ('class target.typehints._ClassWithDocumentedInit(x, *args, **kwargs)\\n'\n             '\\n'\n             '   Class docstring.\\n'\n             '\\n'\n-            '   __init__(x)\\n'\n+            '   __init__(x, *args, **kwargs)\\n'\n             '\\n'\n             '      Init docstring.\\n'\n             '\\n'\n             '      Parameters:\\n'\n-            '         **x** (*int*) -- Some integer\\n' == context)\n+            '         * **x** (*int*) -- Some integer\\n'\n+            '\\n'\n+            '         * **args** (*int*) -- Some integer\\n'\n+            '\\n'\n+            '         * **kwargs** (*int*) -- Some integer\\n' == context)\n \n \n @pytest.mark.sphinx('text', testroot='ext-autodoc',\ndiff --git a/tests/test_ext_napoleon_docstring.py b/tests/test_ext_napoleon_docstring.py\n--- a/tests/test_ext_napoleon_docstring.py\n+++ b/tests/test_ext_napoleon_docstring.py\n@@ -2593,3 +2593,48 @@ def test_pep526_annotations(self):\n \"\"\"\n         print(actual)\n         assert expected == actual\n+\n+\n+@pytest.mark.sphinx('text', testroot='ext-napoleon',\n+                    confoverrides={'autodoc_typehints': 'description',\n+                                   'autodoc_typehints_description_target': 'all'})\n+def test_napoleon_and_autodoc_typehints_description_all(app, status, warning):\n+    app.build()\n+    content = (app.outdir / 'typehints.txt').read_text(encoding='utf-8')\n+    assert content == (\n+        'typehints\\n'\n+        '*********\\n'\n+        '\\n'\n+        'mypackage.typehints.hello(x, *args, **kwargs)\\n'\n+        '\\n'\n+        '   Parameters:\\n'\n+        '      * **x** (*int*) -- X\\n'\n+        '\\n'\n+        '      * ***args** (*int*) -- Additional arguments.\\n'\n+        '\\n'\n+        '      * ****kwargs** (*int*) -- Extra arguments.\\n'\n+        '\\n'\n+        '   Return type:\\n'\n+        '      None\\n'\n+    )\n+\n+\n+@pytest.mark.sphinx('text', testroot='ext-napoleon',\n+                    confoverrides={'autodoc_typehints': 'description',\n+                                   'autodoc_typehints_description_target': 'documented_params'})\n+def test_napoleon_and_autodoc_typehints_description_documented_params(app, status, warning):\n+    app.build()\n+    content = (app.outdir / 'typehints.txt').read_text(encoding='utf-8')\n+    assert content == (\n+        'typehints\\n'\n+        '*********\\n'\n+        '\\n'\n+        'mypackage.typehints.hello(x, *args, **kwargs)\\n'\n+        '\\n'\n+        '   Parameters:\\n'\n+        '      * **x** (*int*) -- X\\n'\n+        '\\n'\n+        '      * ***args** (*int*) -- Additional arguments.\\n'\n+        '\\n'\n+        '      * ****kwargs** (*int*) -- Extra arguments.\\n'\n+    )\n", "problem_statement": "Fix duplicated *args and **kwargs with autodoc_typehints\nFix duplicated *args and **kwargs with autodoc_typehints\r\n\r\n### Bugfix\r\n- Bugfix\r\n\r\n### Detail\r\nConsider this\r\n```python\r\nclass _ClassWithDocumentedInitAndStarArgs:\r\n    \"\"\"Class docstring.\"\"\"\r\n\r\n    def __init__(self, x: int, *args: int, **kwargs: int) -> None:\r\n        \"\"\"Init docstring.\r\n\r\n        :param x: Some integer\r\n        :param *args: Some integer\r\n        :param **kwargs: Some integer\r\n        \"\"\"\r\n```\r\nwhen using the autodoc extension and the setting `autodoc_typehints = \"description\"`.\r\n\r\nWIth sphinx 4.2.0, the current output is\r\n```\r\nClass docstring.\r\n\r\n   Parameters:\r\n      * **x** (*int*) --\r\n\r\n      * **args** (*int*) --\r\n\r\n      * **kwargs** (*int*) --\r\n\r\n   Return type:\r\n      None\r\n\r\n   __init__(x, *args, **kwargs)\r\n\r\n      Init docstring.\r\n\r\n      Parameters:\r\n         * **x** (*int*) -- Some integer\r\n\r\n         * ***args** --\r\n\r\n           Some integer\r\n\r\n         * ****kwargs** --\r\n\r\n           Some integer\r\n\r\n         * **args** (*int*) --\r\n\r\n         * **kwargs** (*int*) --\r\n\r\n      Return type:\r\n         None\r\n```\r\nwhere the *args and **kwargs are duplicated and incomplete.\r\n\r\nThe expected output is\r\n```\r\n  Class docstring.\r\n\r\n   Parameters:\r\n      * **x** (*int*) --\r\n\r\n      * ***args** (*int*) --\r\n\r\n      * ****kwargs** (*int*) --\r\n\r\n   Return type:\r\n      None\r\n\r\n   __init__(x, *args, **kwargs)\r\n\r\n      Init docstring.\r\n\r\n      Parameters:\r\n         * **x** (*int*) -- Some integer\r\n\r\n         * ***args** (*int*) --\r\n\r\n           Some integer\r\n\r\n         * ****kwargs** (*int*) --\r\n\r\n           Some integer\r\n\r\n      Return type:\r\n         None\r\n\r\n```\n", "hints_text": "I noticed this docstring causes warnings because `*` and `**` are considered as mark-up symbols:\r\n\r\n```\r\n    def __init__(self, x: int, *args: int, **kwargs: int) -> None:\r\n        \"\"\"Init docstring.\r\n\r\n        :param x: Some integer\r\n        :param *args: Some integer\r\n        :param **kwargs: Some integer\r\n        \"\"\"\r\n```\r\n\r\nHere are warnings:\r\n```\r\n/Users/tkomiya/work/tmp/doc/example.py:docstring of example.ClassWithDocumentedInitAndStarArgs:6: WARNING: Inline emphasis start-string without end-string.\r\n/Users/tkomiya/work/tmp/doc/example.py:docstring of example.ClassWithDocumentedInitAndStarArgs:7: WARNING: Inline strong start-string without end-string.\r\n```\r\n\r\nIt will work fine if we escape `*` character like the following. But it's not officially recommended way, I believe.\r\n\r\n```\r\n    def __init__(self, x: int, *args: int, **kwargs: int) -> None:\r\n        \"\"\"Init docstring.\r\n\r\n        :param x: Some integer\r\n        :param \\*args: Some integer\r\n        :param \\*\\*kwargs: Some integer\r\n        \"\"\"\r\n```\r\n\r\nI'm not sure this feature is really needed?\n> I noticed this docstring causes warnings because `*` and `**` are considered as mark-up symbols:\r\n> \r\n> ```\r\n>     def __init__(self, x: int, *args: int, **kwargs: int) -> None:\r\n>         \"\"\"Init docstring.\r\n> \r\n>         :param x: Some integer\r\n>         :param *args: Some integer\r\n>         :param **kwargs: Some integer\r\n>         \"\"\"\r\n> ```\r\n> \r\n> Here are warnings:\r\n> \r\n> ```\r\n> /Users/tkomiya/work/tmp/doc/example.py:docstring of example.ClassWithDocumentedInitAndStarArgs:6: WARNING: Inline emphasis start-string without end-string.\r\n> /Users/tkomiya/work/tmp/doc/example.py:docstring of example.ClassWithDocumentedInitAndStarArgs:7: WARNING: Inline strong start-string without end-string.\r\n> ```\r\n> \r\n> It will work fine if we escape `*` character like the following. But it's not officially recommended way, I believe.\r\n> \r\n> ```\r\n>     def __init__(self, x: int, *args: int, **kwargs: int) -> None:\r\n>         \"\"\"Init docstring.\r\n> \r\n>         :param x: Some integer\r\n>         :param \\*args: Some integer\r\n>         :param \\*\\*kwargs: Some integer\r\n>         \"\"\"\r\n> ```\r\n> \r\n> I'm not sure this feature is really needed?\r\n\r\nThis is needed for the Numpy and Google docstring formats, which napoleon converts to `:param:`s.\r\n\nOh, I missed numpydoc format. Indeed, it recommends prepending stars.\r\nhttps://numpydoc.readthedocs.io/en/latest/format.html#parameters", "created_at": "2022-05-15T11:49:39Z", "version": "5.1", "FAIL_TO_PASS": "[\"tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_all\", \"tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_documented_params\"]", "PASS_TO_PASS": "[\"tests/test_ext_autodoc_configs.py::test_autoclass_content_class\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_init\", \"tests/test_ext_autodoc_configs.py::test_autodoc_class_signature_mixed\", \"tests/test_ext_autodoc_configs.py::test_autodoc_class_signature_separated_init\", \"tests/test_ext_autodoc_configs.py::test_autodoc_class_signature_separated_new\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_both\", \"tests/test_ext_autodoc_configs.py::test_autodoc_inherit_docstrings\", \"tests/test_ext_autodoc_configs.py::test_autodoc_docstring_signature\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_class\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_init\", \"tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_both\", \"tests/test_ext_autodoc_configs.py::test_mocked_module_imports\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_signature\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none_for_overload\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc_doc_rtype\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_for_invalid_node\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_both\", \"tests/test_ext_autodoc_configs.py::test_autodoc_type_aliases\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_and_type_aliases\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified_for_class_alias\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified_for_generic_alias\", \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified_for_newtype_alias\", \"tests/test_ext_autodoc_configs.py::test_autodoc_default_options\", \"tests/test_ext_autodoc_configs.py::test_autodoc_default_options_with_values\", \"tests/test_ext_napoleon_docstring.py::NamedtupleSubclassTest::test_attributes_docstring\", \"tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member\", \"tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member_inline\", \"tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member_inline_no_type\", \"tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member_inline_ref_in_type\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_attributes_with_class_reference\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_attributes_with_use_ivar\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_code_block_in_returns_section\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_colon_in_return_type\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_custom_generic_sections\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_docstrings\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_keywords_with_types\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_kwargs_in_arguments\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_list_in_parameter_description\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_noindex\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_parameters_with_class_reference\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_pep526_annotations\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_preprocess_types\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_raises_types\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_section_header_formatting\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_sphinx_admonitions\", \"tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_xrefs_in_return_type\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_colon_in_return_type\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_convert_numpy_type_spec\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_docstrings\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_list_in_parameter_description\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_multiple_parameters\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_parameter_types\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_parameters_with_class_reference\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_parameters_without_class_reference\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_raises_types\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_recombine_set_tokens\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_recombine_set_tokens_invalid\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_return_types\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_section_header_underline_length\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_see_also_refs\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_sphinx_admonitions\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_token_type\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_tokenize_type_spec\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_type_preprocessor\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_underscore_in_attribute\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_underscore_in_attribute_strip_signature_backslash\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_xrefs_in_return_type\", \"tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_yield_types\", \"tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_token_type_invalid\", \"tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_escape_args_and_kwargs[x,\", \"tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_escape_args_and_kwargs[*args,\", \"tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_escape_args_and_kwargs[*x,\", \"tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_pep526_annotations\"]", "environment_setup_commit": "571b55328d401a6e1d50e37407df56586065a7be"}, "On branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n\tmodified:   sphinx/ext/autodoc/typehints.py\n\tmodified:   tox.ini\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\ncommit 195e911f1dab04b8ddeacbe04b7d214aaf81bb0b\nMerge: ac1e5e623 3e20ee684\nAuthor: Takeshi KOMIYA <i.tkomiya@gmail.com>\nDate:   Sun May 22 13:33:42 2022 +0900\n\n    Merge pull request #10453 from sphinx-doc/refactor_gha\n    \n    CI: Separate coverage task from main.yml\n\ndiff --git a/sphinx/ext/autodoc/typehints.py b/sphinx/ext/autodoc/typehints.py\nindex d912cd7d5..98c51e9e9 100644\n--- a/sphinx/ext/autodoc/typehints.py\n+++ b/sphinx/ext/autodoc/typehints.py\n@@ -115,7 +115,15 @@ def modify_field_list(node: nodes.field_list, annotations: Dict[str, str],\n         if name == 'return':\n             continue\n \n-        arg = arguments.get(name, {})\n+        if '*' + name in arguments:\n+            name = '*' + name\n+            arguments.get(name)\n+        elif '**' + name in arguments:\n+            name = '**' + name\n+            arguments.get(name)\n+        else:\n+            arg = arguments.get(name, {})\n+\n         if not arg.get('type'):\n             field = nodes.field()\n             field += nodes.field_name('', 'type ' + name)\n@@ -167,13 +175,19 @@ def augment_descriptions_with_types(\n             has_type.add('return')\n \n     # Add 'type' for parameters with a description but no declared type.\n-    for name in annotations:\n+    for name, annotation in annotations.items():\n         if name in ('return', 'returns'):\n             continue\n+\n+        if '*' + name in has_description:\n+            name = '*' + name\n+        elif '**' + name in has_description:\n+            name = '**' + name\n+\n         if name in has_description and name not in has_type:\n             field = nodes.field()\n             field += nodes.field_name('', 'type ' + name)\n-            field += nodes.field_body('', nodes.paragraph('', annotations[name]))\n+            field += nodes.field_body('', nodes.paragraph('', annotation))\n             node += field\n \n     # Add 'rtype' if 'return' is present and 'rtype' isn't.\ndiff --git a/tox.ini b/tox.ini\nindex 105a02597..90ada0821 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -29,7 +29,7 @@ setenv =\n     PYTHONWARNINGS = all\n     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes\n commands=\n-    python -X dev -X warn_default_encoding -m pytest --durations 25 {posargs}\n+    python -X dev -X warn_default_encoding -m pytest -rA --durations 25 {posargs}\n \n [testenv:du-latest]\n commands =\nObtaining file:///testbed\n  Preparing metadata (setup.py): started\n  Preparing metadata (setup.py): finished with status 'done'\nRequirement already satisfied: sphinxcontrib-applehelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.0.0)\nRequirement already satisfied: sphinxcontrib-devhelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.0.0)\nRequirement already satisfied: sphinxcontrib-jsmath in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (1.0.1)\nRequirement already satisfied: sphinxcontrib-htmlhelp>=2.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.1.0)\nRequirement already satisfied: sphinxcontrib-serializinghtml>=1.1.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.0.0)\nRequirement already satisfied: sphinxcontrib-qthelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.0.0)\nRequirement already satisfied: Jinja2>=2.3 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (3.1.4)\nRequirement already satisfied: Pygments>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.18.0)\nRequirement already satisfied: docutils<0.19,>=0.14 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (0.18.1)\nRequirement already satisfied: snowballstemmer>=1.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.2.0)\nRequirement already satisfied: babel>=1.3 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.16.0)\nRequirement already satisfied: alabaster<0.8,>=0.7 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (0.7.16)\nRequirement already satisfied: imagesize in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (1.4.1)\nRequirement already satisfied: requests>=2.5.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (2.32.3)\nRequirement already satisfied: packaging in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (24.1)\nRequirement already satisfied: importlib-metadata>=4.4 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (8.5.0)\nRequirement already satisfied: pytest>=4.6 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (8.3.3)\nRequirement already satisfied: html5lib in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (1.1)\nRequirement already satisfied: cython in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.1.0.dev20241007) (3.0.11)\nRequirement already satisfied: zipp>=3.20 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from importlib-metadata>=4.4->Sphinx==5.1.0.dev20241007) (3.20.2)\nRequirement already satisfied: MarkupSafe>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Jinja2>=2.3->Sphinx==5.1.0.dev20241007) (2.1.5)\nRequirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.1.0.dev20241007) (2.0.0)\nRequirement already satisfied: pluggy<2,>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.1.0.dev20241007) (1.5.0)\nRequirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.1.0.dev20241007) (1.2.2)\nRequirement already satisfied: tomli>=1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.1.0.dev20241007) (2.0.2)\nRequirement already satisfied: charset-normalizer<4,>=2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.1.0.dev20241007) (3.3.2)\nRequirement already satisfied: idna<4,>=2.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.1.0.dev20241007) (3.10)\nRequirement already satisfied: urllib3<3,>=1.21.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.1.0.dev20241007) (2.2.3)\nRequirement already satisfied: certifi>=2017.4.17 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.1.0.dev20241007) (2024.8.30)\nRequirement already satisfied: six>=1.9 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from html5lib->Sphinx==5.1.0.dev20241007) (1.16.0)\nRequirement already satisfied: webencodings in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from html5lib->Sphinx==5.1.0.dev20241007) (0.5.1)\nInstalling collected packages: Sphinx\n  Attempting uninstall: Sphinx\n    Found existing installation: Sphinx 5.1.0.dev20241007\n    Uninstalling Sphinx-5.1.0.dev20241007:\n      Successfully uninstalled Sphinx-5.1.0.dev20241007\n  Running setup.py develop for Sphinx\nSuccessfully installed Sphinx\npy39: commands[0]> python -X dev -X warn_default_encoding -m pytest -rA --durations 25 tests/roots/test-ext-autodoc/target/typehints.py tests/roots/test-ext-napoleon/conf.py tests/roots/test-ext-napoleon/index.rst tests/roots/test-ext-napoleon/mypackage/__init__.py tests/roots/test-ext-napoleon/mypackage/typehints.py tests/roots/test-ext-napoleon/typehints.rst tests/test_ext_autodoc_configs.py tests/test_ext_napoleon_docstring.py\n\u001b[1m============================= test session starts ==============================\u001b[0m\nplatform linux -- Python 3.9.20, pytest-8.3.3, pluggy-1.5.0\ncachedir: .tox/py39/.pytest_cache\nlibraries: Sphinx-5.1.0+/195e911f1, docutils-0.18.1\nbase tempdir: /tmp/pytest-of-root/pytest-1\nrootdir: /testbed\nconfigfile: setup.cfg\ncollected 82 items\n\ntests/test_ext_autodoc_configs.py \u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m        [ 37%]\u001b[0m\ntests/test_ext_napoleon_docstring.py \u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m [ 80%]\n\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m                                                         [100%]\u001b[0m\n\n==================================== PASSES ====================================\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[new config] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints_description_target')] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints_description_target')] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints_description_target')] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints_description_target')] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints_description_target')] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints')] 1 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/autodoc_typehints_description_and_type_aliases\n# outdir: /tmp/pytest-of-root/pytest-1/autodoc_typehints_description_and_type_aliases/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 1 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[new config] 2 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[ 50%] \u001b[35mautodoc_type_aliases\u001b[39;49;00m                                 \n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[ 50%] \u001b[32mautodoc_type_aliases\u001b[39;49;00m                                  \n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mbuild succeeded, 4 warnings.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/autodoc_typehints_description_and_type_aliases/_build/text.\n\n# warning: \n\u001b[91m/tmp/pytest-of-root/pytest-1/autodoc_typehints_description_and_type_aliases/autodoc_type_aliases.rst: WARNING: document isn't included in any toctree\u001b[39;49;00m\n\u001b[91m/tmp/pytest-of-root/pytest-1/ext-autodoc/target/autodoc_type_aliases.py:docstring of target.autodoc_type_aliases.sum:: WARNING: py:class reference target not found: myint\u001b[39;49;00m\n\u001b[91m/tmp/pytest-of-root/pytest-1/ext-autodoc/target/autodoc_type_aliases.py:docstring of target.autodoc_type_aliases.sum:: WARNING: py:class reference target not found: myint\u001b[39;49;00m\n\u001b[91m/tmp/pytest-of-root/pytest-1/ext-autodoc/target/autodoc_type_aliases.py:docstring of target.autodoc_type_aliases.sum:: WARNING: py:class reference target not found: myint\u001b[39;49;00m\n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-autodoc\n# outdir: /tmp/pytest-of-root/pytest-1/ext-autodoc/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: html\n# srcdir: /tmp/pytest-of-root/pytest-1/root\n# outdir: /tmp/pytest-of-root/pytest-1/root/_build/html\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\n# warning: \n\n\u001b[32m\u001b[1m__________________ TestNumpyDocstring.test_pep526_annotations __________________\u001b[0m\n----------------------------- Captured stdout call -----------------------------\nSample class with PEP 526 annotations and numpy docstring\n\n.. attribute:: attr1\n\n   Attr1 description\n\n   :type: int\n\n.. attribute:: attr2\n\n   Attr2 description\n\n   :type: str\n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-napoleon\n# outdir: /tmp/pytest-of-root/pytest-1/ext-napoleon/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 2 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[new config] 2 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[ 50%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mtypehints\u001b[39;49;00m                                            \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[ 50%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mtypehints\u001b[39;49;00m                                             \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-napoleon/_build/text.\n\n# warning: \n\n--------------------------- Captured stdout teardown ---------------------------\n# testroot: root\n# builder: text\n# srcdir: /tmp/pytest-of-root/pytest-1/ext-napoleon\n# outdir: /tmp/pytest-of-root/pytest-1/ext-napoleon/_build/text\n# status: \n\u001b[01mRunning Sphinx v5.1.0+/195e911f1\u001b[39;49;00m\n\u001b[01mloading pickled environment... \u001b[39;49;00mdone\n\u001b[01mbuilding [mo]: \u001b[39;49;00mtargets for 0 po files that are out of date\n\u001b[01mbuilding [text]: \u001b[39;49;00mtargets for 0 source files that are out of date\n\u001b[01mupdating environment: \u001b[39;49;00m[config changed ('autodoc_typehints_description_target')] 2 added, 0 changed, 0 removed\n\u001b[01mreading sources... \u001b[39;49;00m[ 50%] \u001b[35mindex\u001b[39;49;00m                                                \n\u001b[01mreading sources... \u001b[39;49;00m[100%] \u001b[35mtypehints\u001b[39;49;00m                                            \n\u001b[01mlooking for now-outdated files... \u001b[39;49;00mnone found\n\u001b[01mpickling environment... \u001b[39;49;00mdone\n\u001b[01mchecking consistency... \u001b[39;49;00mdone\n\u001b[01mpreparing documents... \u001b[39;49;00mdone\n\u001b[01mwriting output... \u001b[39;49;00m[ 50%] \u001b[32mindex\u001b[39;49;00m                                                 \n\u001b[01mwriting output... \u001b[39;49;00m[100%] \u001b[32mtypehints\u001b[39;49;00m                                             \n\u001b[01mbuild succeeded.\u001b[39;49;00m\n\nThe text files are in ../tmp/pytest-of-root/pytest-1/ext-napoleon/_build/text.\n\n# warning: \n\n============================= slowest 25 durations =============================\n0.51s setup    tests/test_ext_autodoc_configs.py::test_autoclass_content_class\n0.15s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_signature\n0.13s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified\n0.13s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none\n0.09s call     tests/test_ext_autodoc_configs.py::test_autodoc_default_options\n0.08s call     tests/test_ext_autodoc_configs.py::test_autodoc_default_options_with_values\n0.07s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description\n0.06s setup    tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_token_type_invalid\n0.06s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_and_type_aliases\n0.05s call     tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_documented_params\n0.05s setup    tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_and_type_aliases\n0.04s setup    tests/test_ext_autodoc_configs.py::test_autodoc_type_aliases\n0.04s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_both\n0.03s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc_doc_rtype\n0.02s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc\n0.02s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init\n0.02s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc\n0.02s call     tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype\n0.02s call     tests/test_ext_autodoc_configs.py::test_autodoc_type_aliases\n0.02s call     tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_all\n0.02s setup    tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_all\n0.02s setup    tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_init\n0.02s setup    tests/test_ext_autodoc_configs.py::test_autoclass_content_both\n0.02s setup    tests/test_ext_autodoc_configs.py::test_autodoc_default_options_with_values\n0.02s call     tests/test_ext_autodoc_configs.py::test_autodoc_docstring_signature\n\u001b[36m\u001b[1m=========================== short test summary info ============================\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autoclass_content_class\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autoclass_content_init\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_class_signature_mixed\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_class_signature_separated_init\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_class_signature_separated_new\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autoclass_content_both\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_inherit_docstrings\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_docstring_signature\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autoclass_content_and_docstring_signature_class\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autoclass_content_and_docstring_signature_init\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autoclass_content_and_docstring_signature_both\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_mocked_module_imports\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_signature\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_none\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_none_for_overload\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_no_undoc\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_no_undoc_doc_rtype\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_with_documented_init\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_with_documented_init_no_undoc\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_for_invalid_node\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_both\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_type_aliases\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_description_and_type_aliases\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_format_fully_qualified\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_format_fully_qualified_for_class_alias\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_format_fully_qualified_for_generic_alias\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_typehints_format_fully_qualified_for_newtype_alias\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_default_options\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_autodoc_configs.py::\u001b[1mtest_autodoc_default_options_with_values\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNamedtupleSubclassTest::test_attributes_docstring\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mInlineAttributeTest::test_class_data_member\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mInlineAttributeTest::test_class_data_member_inline\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mInlineAttributeTest::test_class_data_member_inline_no_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mInlineAttributeTest::test_class_data_member_inline_ref_in_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_attributes_with_class_reference\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_attributes_with_use_ivar\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_code_block_in_returns_section\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_colon_in_return_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_custom_generic_sections\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_docstrings\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_keywords_with_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_kwargs_in_arguments\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_list_in_parameter_description\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_noindex\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_parameters_with_class_reference\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_pep526_annotations\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_preprocess_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_raises_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_section_header_formatting\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_sphinx_admonitions\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mGoogleDocstringTest::test_xrefs_in_return_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_colon_in_return_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_convert_numpy_type_spec\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_docstrings\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_list_in_parameter_description\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_multiple_parameters\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_parameter_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_parameters_with_class_reference\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_parameters_without_class_reference\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_raises_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_recombine_set_tokens\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_recombine_set_tokens_invalid\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_return_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_section_header_underline_length\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_see_also_refs\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_sphinx_admonitions\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_token_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_tokenize_type_spec\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_type_preprocessor\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_underscore_in_attribute\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_underscore_in_attribute_strip_signature_backslash\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_xrefs_in_return_type\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mNumpyDocstringTest::test_yield_types\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mTestNumpyDocstring::test_token_type_invalid\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mTestNumpyDocstring::test_escape_args_and_kwargs[x, y, z-x, y, z]\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mTestNumpyDocstring::test_escape_args_and_kwargs[*args, **kwargs-\\\\*args, \\\\*\\\\*kwargs]\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mTestNumpyDocstring::test_escape_args_and_kwargs[*x, **y-\\\\*x, \\\\*\\\\*y]\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mTestNumpyDocstring::test_pep526_annotations\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mtest_napoleon_and_autodoc_typehints_description_all\u001b[0m\n\u001b[32mPASSED\u001b[0m tests/test_ext_napoleon_docstring.py::\u001b[1mtest_napoleon_and_autodoc_typehints_description_documented_params\u001b[0m\n\u001b[32m============================== \u001b[32m\u001b[1m82 passed\u001b[0m\u001b[32m in 2.69s\u001b[0m\u001b[32m ==============================\u001b[0m\npy39: exit 0 (3.24 seconds) /testbed> python -X dev -X warn_default_encoding -m pytest -rA --durations 25 tests/roots/test-ext-autodoc/target/typehints.py tests/roots/test-ext-napoleon/conf.py tests/roots/test-ext-napoleon/index.rst tests/roots/test-ext-napoleon/mypackage/__init__.py tests/roots/test-ext-napoleon/mypackage/typehints.py tests/roots/test-ext-napoleon/typehints.rst tests/test_ext_autodoc_configs.py tests/test_ext_napoleon_docstring.py pid=923\n  py39: OK (3.26=setup[0.01]+cmd[3.24] seconds)\n  congratulations :) (3.38 seconds)\n", {"tests/test_ext_autodoc_configs.py::test_autoclass_content_class": "PASSED", "tests/test_ext_autodoc_configs.py::test_autoclass_content_init": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_class_signature_mixed": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_class_signature_separated_init": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_class_signature_separated_new": "PASSED", "tests/test_ext_autodoc_configs.py::test_autoclass_content_both": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_inherit_docstrings": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_docstring_signature": "PASSED", "tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_class": "PASSED", "tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_init": "PASSED", "tests/test_ext_autodoc_configs.py::test_autoclass_content_and_docstring_signature_both": "PASSED", "tests/test_ext_autodoc_configs.py::test_mocked_module_imports": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_signature": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_none_for_overload": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc_doc_rtype": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_for_invalid_node": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_both": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_type_aliases": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_and_type_aliases": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified_for_class_alias": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified_for_generic_alias": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_format_fully_qualified_for_newtype_alias": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_default_options": "PASSED", "tests/test_ext_autodoc_configs.py::test_autodoc_default_options_with_values": "PASSED", "tests/test_ext_napoleon_docstring.py::NamedtupleSubclassTest::test_attributes_docstring": "PASSED", "tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member": "PASSED", "tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member_inline": "PASSED", "tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member_inline_no_type": "PASSED", "tests/test_ext_napoleon_docstring.py::InlineAttributeTest::test_class_data_member_inline_ref_in_type": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_attributes_with_class_reference": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_attributes_with_use_ivar": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_code_block_in_returns_section": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_colon_in_return_type": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_custom_generic_sections": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_docstrings": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_keywords_with_types": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_kwargs_in_arguments": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_list_in_parameter_description": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_noindex": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_parameters_with_class_reference": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_pep526_annotations": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_preprocess_types": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_raises_types": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_section_header_formatting": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_sphinx_admonitions": "PASSED", "tests/test_ext_napoleon_docstring.py::GoogleDocstringTest::test_xrefs_in_return_type": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_colon_in_return_type": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_convert_numpy_type_spec": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_docstrings": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_list_in_parameter_description": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_multiple_parameters": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_parameter_types": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_parameters_with_class_reference": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_parameters_without_class_reference": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_raises_types": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_recombine_set_tokens": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_recombine_set_tokens_invalid": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_return_types": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_section_header_underline_length": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_see_also_refs": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_sphinx_admonitions": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_token_type": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_tokenize_type_spec": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_type_preprocessor": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_underscore_in_attribute": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_underscore_in_attribute_strip_signature_backslash": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_xrefs_in_return_type": "PASSED", "tests/test_ext_napoleon_docstring.py::NumpyDocstringTest::test_yield_types": "PASSED", "tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_token_type_invalid": "PASSED", "tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_escape_args_and_kwargs[x,": "PASSED", "tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_escape_args_and_kwargs[*args,": "PASSED", "tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_escape_args_and_kwargs[*x,": "PASSED", "tests/test_ext_napoleon_docstring.py::TestNumpyDocstring::test_pep526_annotations": "PASSED", "tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_all": "PASSED", "tests/test_ext_napoleon_docstring.py::test_napoleon_and_autodoc_typehints_description_documented_params": "PASSED"}]